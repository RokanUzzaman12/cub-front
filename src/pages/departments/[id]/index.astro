---
import Layout from "../../../layouts/Layout.astro";

import Department from "../../../components/Departments/Department";
import {fetchDepartments} from "../../../api/departments"

export async function getStaticPaths() {
  const departments = await fetchDepartments();
  return departments.data.map((dept: { slug: string; }) => ({
    params: { id: dept.slug },
  }));
}
import { removeDash } from "../../../lib/removeDash";
const {id} = Astro.params

---

<Layout title={removeDash(id)} slug="departments">
  <Department slug = {id}  client:load/>
</Layout>
